/* =======================
   Base / Global
   ======================= */
body {
  font-family: system-ui, sans-serif;
  margin: 0;
  background-color: #f5f5f5;
  color: #111;
}

/* Shared header (home page) */
header {
  background-color: #111;
  color: #fff;
  padding: 24px;
  text-align: center;
}
header h1 {
  font-size: 2.0rem;
  margin: 0 0 8px;
  font-weight: 600;
  color: #fff;
}
header p {
  margin: 0;
  font-size: 0.95rem;
  line-height: 1.4;
  color: #ccc;
}

/* Card container (home page) */
main {
  max-width: 640px;
  background: #fff;
  margin: 24px auto 40px;
  padding: 24px;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.07);
  border: 1px solid #ddd;
}
section + section { margin-top: 24px; }

/* Form bits (home page) */
.label {
  font-size: 0.8rem;
  font-weight: 600;
  margin-bottom: 8px;
  color: #444;
  display: block;
}
select, input[type="text"] {
  width: 100%;
  box-sizing: border-box;
  padding: 12px;
  font-size: 1rem;
  border-radius: 8px;
  border: 1px solid #bbb;
}
select:disabled { background:#eee; color:#666; cursor:not-allowed; }
.hint { font-size: .8rem; color:#666; margin-top: 6px; line-height: 1.4; }

/* Topic grid (home page) */
.topics-grid { display:grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.topic-btn {
  display:block; width:100%;
  border:1px solid #bbb; background:#fafafa; border-radius:8px;
  padding:12px; text-align:center; font-size:.95rem; line-height:1.2; cursor:pointer;
}
.topic-btn:hover { background:#eee; }

/* Map page header tweaks */
.map-header h1 { font-size: 1.3rem; }
.map-header p  { font-size: 0.9rem; }

/* Printable wrapper */
#printable { }

/* Results container */
.pdf-preview-wrapper {
  width: 100%;
  background: #eee;
  border: 1px solid #bbb;
  border-radius: 8px;
  padding: 16px;
  box-sizing: border-box;
  text-align: center;
  font-size: 0.9rem;
  color: #444;
}

.results-scroll {
  /* on-screen padding so the right column isn't cramped */
  padding-right: 24px;
}

/* Helper link row under results (not printed) */
.pdf-actions {
  font-size: 0.8rem; color:#444; display:flex; align-items:center; flex-wrap:wrap; gap:6px; margin-top:12px;
}
.pdf-actions a { color:#111; text-decoration:underline; cursor:pointer; }
.pdf-actions-link { display:inline-flex; align-items:center; gap:6px; text-decoration:underline; color:#111; pointer-events:none; opacity:.5; font-size:.8rem; line-height:1.4; }

/* Buttons row (map page) */
.btn-row { display:flex; flex-wrap:wrap; gap:8px; margin-top:24px; }
.action-btn {
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:12px 16px; font-size:.95rem; font-weight:600; line-height:1.2;
  border-radius:8px; border:1px solid #bbb; background:#fafafa; cursor:pointer;
  flex:0 0 auto; min-width:auto; white-space:nowrap;
}
.action-btn.primary { background:#111; color:#fff; border:1px solid #000; }
.action-btn:hover { background:#eee; }
.action-btn.primary:hover { background:#000; }
.action-btn .btn-icon { width:16px; height:16px; flex-shrink:0; display:block; }

/* Generate button (home) */
.generate-btn {
  width: 100%; padding: 14px 16px; font-size: 1rem; font-weight: 600;
  border-radius:8px; border:none; background:#111; color:#fff; cursor:pointer;
  transition: background .2s ease; text-align:center;
}
.generate-btn:hover { background:#000; }
.generate-btn.is-loading { opacity:.7; cursor:wait; }
.generate-inner { display:inline-flex; flex-direction:row; align-items:center; justify-content:center; gap:8px; width:100%; text-align:center; }
.generate-inner svg { width:20px; height:20px; display:block; flex-shrink:0; }
.loading-spinner { animation: spin .8s linear infinite; stroke: currentColor; }
@keyframes spin { to { transform: rotate(360deg);} }

/* Footer */
footer { text-align:center; font-size:.75rem; color:#777; margin-bottom:40px; }

/* =======================
   Worksheet header (map page)
   ======================= */
.sheet-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #ccc;
  padding-bottom: 6px;
  margin-bottom: 10px;
  font-family: inherit;
  text-align: left;
  gap: 16px;
}

.sheet-header .title {
  flex: 1 1 auto;
  font-size: 1.4rem;
  font-weight: 700;
  text-align: left;
  white-space: nowrap;       /* keep on one line */
  overflow: visible;         /* show full text */
}

.sheet-header .meta {
  flex: 0 0 auto;
  display: flex;
  align-items: center;
  gap: 24px;
}

.meta-field {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.95rem;
}

.blank-line {
  display: inline-block;
  border-bottom: 1px solid #000;
  width: 160px;
  height: 1.2em;
}

.blank-line.short {
  width: 100px;
}

@media print {
  .sheet-header {
    align-items: center;
    border-bottom: 1px solid #000;
  }
  .sheet-header .title {
    white-space: nowrap;
    overflow: visible;
  }
}

/* =======================
   Hunt item (3 columns)
   ======================= */
.hunt-item {
  display: grid;
  grid-template-columns: 1fr 2fr 1fr; /* Art | Details | Notes (on screen) */
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid #eee;
  align-items: start;
}

/* Left-align all content inside cards */
.hunt-item, .hunt-item * { text-align: left; }

.item-image { grid-column: 1; }
.item-details { grid-column: 2; }
.item-description { grid-column: 3; padding-left: 24px; padding-right: 24px; }

.item-image img {
  display:block;
  margin: 0 0 8px 0;
}

.found-section input[type="checkbox"], .found-checkbox {
  transform: scale(1.2);
  cursor: pointer;
}

/* Notes box */
.notes-textarea {
  width: 100%;
  height: 100%;
  min-height: 160px;
  box-sizing: border-box;
  resize: vertical;
}

/* Show full image on web (override inline styles from metObjects.js) */
.item-image img {
  height: auto !important;        /* undo fixed 140px height */
  max-height: 200px;              /* cap height so rows don't get huge; adjust as you like */
  width: 100% !important;         /* keep it responsive in the column */
  object-fit: contain !important; /* no cropping */
  background: #f2f2f2;            /* optional: letterbox background */
  border-radius: 6px;
}

/* ===== PRINT (consolidated) ===== */
@media print {
  /* Show only the printable area */
  body * { visibility: hidden !important; }
  #printable, #printable * { visibility: visible !important; }
  #printable {
    position: absolute !important;
    inset: 0 !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    background: #fff !important;
    box-shadow: none !important;
  }

  /* Remove chrome so content can use full page width */
  .pdf-preview-wrapper {
    padding: 0 !important;
    border: 0 !important;
    background: #fff !important;
    box-shadow: none !important;
  }
  .results-scroll {
    padding: 0 !important;
    margin: 0 !important;
    max-height: none !important;
    overflow: visible !important;
    border: 0 !important;
  }

  /* Prevent awkward breaks */
  .sheet-header, .table-head, .hunt-item {
    break-inside: avoid-page;
    page-break-inside: avoid;
  }

  /* Column proportions for print: Art | Details | Notes */
  .hunt-item {
    display: grid !important;
    grid-template-columns: 0.9fr 1fr 1.6fr !important;
    gap: 16px !important;
    align-items: stretch !important;
  }

  /* Tighten spacing so notes get more room */
  .item-details { padding-right: 12px !important; }
  .item-description { padding-left: 12px !important; padding-right: 0 !important; }

  /* Notes column: label above textarea; textarea fills column */
  .item-description {
    display: flex !important;
    flex-direction: column !important;
    align-items: stretch !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }
  .notes-label {
    display: block !important;
    margin: 0 0 4px 0 !important;
    font-size: 0.75rem !important;
    text-align: left !important;
  }
  .notes-textarea {
    -webkit-appearance: none;
    display: block !important;
    flex: 1 1 auto !important;
    width: 100% !important;
    min-width: 0 !important;
    max-width: none !important;
    height: 220px !important;      /* adjust if you want taller */
    min-height: 200px !important;
    box-sizing: border-box !important;
    resize: none !important;
    overflow: visible !important;
  }

  /* Images full width in their column */
  .item-image, .item-image * { margin-left: 0 !important; padding-left: 0 !important; }
  .item-image img {
    width: 100% !important;
    height: auto !important;
    object-fit: contain !important;
  }

  /* Hide non-essential UI */
  header, footer, .pdf-actions, .btn-row, .map-header, .site-header {
    display: none !important;
  }

  /* Stable text sizing/colors */
  body {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    font-size: 12px;
    line-height: 1.35;
  }
  html, body { width: 100%; margin: 0; padding: 0; }
}

/* ---- Print: Replace textareas with blank space ---- */
@media print {
  /* Hide the web textarea completely */
  .notes-textarea {
    display: none !important;
  }

  /* Add empty vertical space instead */
  .item-description::after {
    content: "";
    display: block;
    width: 100%;
    height: 100%; /* adjust height for writing room */
    background: #fff; /* just blank space */
  }

  /* Optional: tighten alignment */
  .item-description {
    align-items: flex-start !important;
  }
}

@media print {
  .notes-label {
    display: inline-block !important;
    white-space: nowrap !important;
    word-break: normal !important;
    font-size: 0.75rem !important;
    line-height: 1.1 !important;
    margin-bottom: 6px !important;
  }
}